@{
    ViewData["Title"] = "User";
    Layout = "_AdminLayout";
}
@model CI_Platform.Entities.ViewModels.AdminUserViewModel

<link rel="stylesheet" href="https://cdn.datatables.net/1.13.3/css/dataTables.bootstrap5.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.4.0/css/responsive.bootstrap5.min.css">
<div class="container-fluid my-5 mx-2">
    <h3 class="pb-1 border-bottom"><span class="heading-underline pb-1"> User </span></h3>
    <div class="table-responsive m-3">
      
     
        <table id="example"  cellspacing="0" class="display table table-bordered align-middle" style="width:100%">

           
            <thead class="gap-2">
                <tr class="bg-light align-middle">
                    <th>First Name </th>
                    <th>Last Name</th>
                    <th>Email</th>
                    <th>Employee Id</th>
                    <th>Department </th>
                    <th>Status</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var users in Model.users)
                {
                    <tr class="align-middle">
                        <td>@users.FirstName</td>
                        <td>@users.LastName</td>
                        <td>@users.Email</td>
                        <td>@users.EmployeeId</td>
                        <td>@users.Department</td>
                        <td>
                            @if (@users.Status == true)
                            {
                                <button class="btn bg-light text-success">Active</button>
                            }
                            else
                            {
                                <button class=" btn bg-light text-danger">In Active</button>
                            }
                        </td>
                        <td>
                            <button class="btn p-0 EditButtonDataFetch" id="TimeMissionEditBtn"  data-bs-toggle="modal" data-bs-target="#TimeEntryModal">
                                <i style="color: #F88634;" class="bi bi-pencil-square"></i>
                            </button>

                            <button class="p-0 btn" data-bs-toggle="modal" data-bs-target="#DeleteUser">
                                <i class="bi bi-trash"> </i>
                            </button>

                            <div class="modal fade" id="DeleteUser" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h1 class="modal-title fs-5" id="exampleModalLabel">Modal title</h1>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <div>Are you sure you want to delete @users.FirstName @users.LastName ?? </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="me-3 btn rounded-pill btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                                            <a class="btn rounded-pill btn-outline-danger" href="@Url.Action("DeleteUser", "Admin", new { UserId = users.UserId })">Delete</a>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                }

               
        </table>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdn.datatables.net/1.13.3/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.3/js/dataTables.bootstrap5.min.js"></script>
<script src="https://cdn.datatables.net/responsive/2.4.0/js/dataTables.responsive.min.js"></script>
<script src="https://cdn.datatables.net/responsive/2.4.0/js/responsive.bootstrap5.min.js"></script>
<script>
    $(document).ready(function () {
        $('#example').DataTable(
            {
                responsive: true,
                language: {
                    "paginate": {
                        "previous": "&lt",
                        "next": "&gt",
                        "first": "&lt&lt",
                        "last": "&gt&gt"
                    }
                },

                //dom: '<"toolbar">frtip',
                dom: 'f<"toolbar">rt<p>',
                pagingType: 'full_numbers',
                bLengthChange: false,
                info: false,
                
            });
        $('div.toolbar').html(' <button class="addBtn py-1 px-2" data-bs-toggle="modal" data-bs-target="#TimeEntryModal"><i class="bi bi-plus"></i>&nbsp;&nbsp;Add</button>');
    });
</script>



@*/* Results in:
<div class="top">
    {information}
</div>
    {processing}
    {table}
<div class="bottom">
    {filter}
    {length}
    {pagination}
</div>
<div class="clear"></div>
*/
$('#example').dataTable( {
  "dom": '<"top"i>rt<"bottom"flp><"clear">'
} );*@